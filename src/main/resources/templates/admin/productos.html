<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Gestión de Productos</title>
</head>
<body>

<!-- Incluye menú vertical -->
<div th:replace="admin/fragments :: menuVertical"></div>

<div style="margin-left: 300px; padding: 20px;">
    <h2>Gestión de Productos</h2>
    <form th:action="@{/admin/productos}" th:object="${producto}" method="post" style="margin-bottom: 20px; border: 1px solid #ddd; padding: 15px; width: 50%;">
        <label>Nombre:</label>
        <input type="text" th:field="*{nombre}" placeholder="Nombre del producto" required />
        <label>Descripción:</label>
        <input type="text" th:field="*{descripcion}" placeholder="Descripción" required />
        <label>Precio:</label>
        <input type="number" th:field="*{precio}" step="0.01" placeholder="Precio" required />
        <button type="submit">Guardar Producto</button>
    </form>

    <table border="1" style="width: 90%; border-collapse: collapse;">
        <thead>
        <tr>
            <th>ID</th><th>Nombre</th><th>Descripción</th><th>Precio</th><th>Acciones</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="prod : ${productos}">
            <td th:text="${prod.id}"></td>
            <td th:text="${prod.nombre}"></td>
            <td th:text="${prod.descripcion}"></td>
            <td th:text="${prod.precio}"></td>
            <td>
                <a th:href="@{'/admin/productos/editar/' + ${prod.id}}">Editar</a> |
                <form th:action="@{'/admin/productos/eliminar/' + ${prod.id}}" method="post" style="display:inline;">
                    <button type="submit" onclick="return confirm('Eliminar este producto?')">Eliminar</button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<!-- Incluye footer -->
<div th:replace="admin/fragments :: footer"></div>

</body>
</html>
