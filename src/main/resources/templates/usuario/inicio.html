<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><title>Inicio</title></head>
<body>
    <div th:replace="usuario/fragments :: navbar"></div>
<h1>Bienvenido a Pasteler√≠a</h1>

<!-- Notificaciones de pedidos personalizados -->
<div th:if="${notificaciones != null}">
    <div th:each="noti : ${notificaciones}">
        <div th:id="'modalNoti' + ${noti.id}" class="modal" 
             style="display:block; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.5);">
            <div style="background:white; margin:10% auto; padding:20px; width:300px; text-align:center;">
                <p th:text="${noti.mensaje}"></p>
                <button th:onclick="'cerrarNotificacion(' + ${noti.id} + ')'">Cerrar</button>
            </div>
        </div>
    </div>
</div>


<script>
function cerrarNotificacion(id) {
    fetch('/notificacion/' + id + '/leer', {method:'POST'})
      .then(() => document.getElementById('modalNoti'+id).style.display='none');
}
</script>
<div th:replace="usuario/fragments :: footer"></div>
</body>
</html>
